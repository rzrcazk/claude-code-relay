<template>
  <div class="help-container">
    <!-- ç³»ç»Ÿé€‰æ‹©æ ‡ç­¾ -->
    <div class="system-tabs">
      <div class="tabs-wrapper">
        <t-button
          v-for="system in supportedSystems"
          :key="system.key"
          :variant="activeTutorialSystem === system.key ? 'base' : 'outline'"
          :theme="activeTutorialSystem === system.key ? 'primary' : 'default'"
          class="system-tab-btn"
          @click="activeTutorialSystem = system.key"
        >
          <t-icon style="margin-top: 2px" :name="system.icon" />
          <span style="margin-left: 4px">{{ system.name }}</span>
        </t-button>
      </div>
    </div>

    <!-- Windows æ•™ç¨‹ -->
    <div v-if="activeTutorialSystem === 'windows'" class="tutorial-content">
      <!-- ç¬¬ä¸€æ­¥ï¼šå®‰è£… Node.js -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">1</span>
          å®‰è£… Node.js ç¯å¢ƒ
        </h3>
        <p class="step-description">Claude Code éœ€è¦ Node.js ç¯å¢ƒæ‰èƒ½è¿è¡Œã€‚</p>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="logo-windows" />
              Windows å®‰è£…æ–¹æ³•
            </h4>

            <div class="method-section">
              <h5>æ–¹æ³•ä¸€ï¼šå®˜ç½‘ä¸‹è½½ï¼ˆæ¨èï¼‰</h5>
              <ol class="install-steps">
                <li>æ‰“å¼€æµè§ˆå™¨è®¿é—® <code>https://nodejs.org/</code></li>
                <li>ç‚¹å‡» "LTS" ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼ˆæ¨èé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼‰</li>
                <li>ä¸‹è½½å®ŒæˆååŒå‡» <code>.msi</code> æ–‡ä»¶</li>
                <li>æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆå®‰è£…ï¼Œä¿æŒé»˜è®¤è®¾ç½®å³å¯</li>
              </ol>
            </div>

            <div class="method-section">
              <h5>æ–¹æ³•äºŒï¼šä½¿ç”¨åŒ…ç®¡ç†å™¨</h5>
              <p>å¦‚æœä½ å®‰è£…äº† Chocolatey æˆ– Scoopï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…ï¼š</p>
              <div class="code-block">
                <pre><code># ä½¿ç”¨ Chocolatey
choco install nodejs

# æˆ–ä½¿ç”¨ Scoop
scoop install nodejs</code></pre>
              </div>
            </div>

            <t-alert theme="info" class="note-alert">
              <h6>Windows æ³¨æ„äº‹é¡¹</h6>
              <ul>
                <li>å»ºè®®ä½¿ç”¨ PowerShell è€Œä¸æ˜¯ CMD</li>
                <li>å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œå°è¯•ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</li>
                <li>æŸäº›æ€æ¯’è½¯ä»¶å¯èƒ½ä¼šè¯¯æŠ¥ï¼Œéœ€è¦æ·»åŠ ç™½åå•</li>
              </ul>
            </t-alert>
          </div>
        </t-card>

        <!-- éªŒè¯å®‰è£… -->
        <t-card class="verify-card">
          <h4 class="verify-title">éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ</h4>
          <p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ PowerShell æˆ– CMDï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
          <div class="code-block">
            <pre><code>node --version
npm --version</code></pre>
          </div>
          <p class="verify-note">å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸäº†ï¼</p>
        </t-card>
      </div>

      <!-- ç¬¬äºŒæ­¥ï¼šå®‰è£… Git Bash -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">2</span>
          å®‰è£… Git Bash
        </h3>
        <p class="step-description">
          Windows ç¯å¢ƒä¸‹éœ€è¦ä½¿ç”¨ Git Bash å®‰è£…Claude codeã€‚å®‰è£…å®Œæˆåï¼Œç¯å¢ƒå˜é‡è®¾ç½®å’Œä½¿ç”¨ Claude Code ä»ç„¶åœ¨æ™®é€šçš„
          PowerShell æˆ– CMD ä¸­è¿›è¡Œã€‚
        </p>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="logo-github" />
              ä¸‹è½½å¹¶å®‰è£… Git for Windows
            </h4>
            <ol class="install-steps">
              <li>è®¿é—® <code>https://git-scm.com/downloads/win</code></li>
              <li>ç‚¹å‡» "Download for Windows" ä¸‹è½½å®‰è£…åŒ…</li>
              <li>è¿è¡Œä¸‹è½½çš„ <code>.exe</code> å®‰è£…æ–‡ä»¶</li>
              <li>åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¿æŒé»˜è®¤è®¾ç½®ï¼Œç›´æ¥ç‚¹å‡» "Next" å®Œæˆå®‰è£…</li>
            </ol>

            <t-alert theme="success" class="note-alert">
              <h6>å®‰è£…å®Œæˆå</h6>
              <ul>
                <li>åœ¨ä»»æ„æ–‡ä»¶å¤¹å³é”®å¯ä»¥çœ‹åˆ° "Git Bash Here" é€‰é¡¹</li>
                <li>ä¹Ÿå¯ä»¥ä»å¼€å§‹èœå•å¯åŠ¨ "Git Bash"</li>
                <li>åªéœ€è¦åœ¨ Git Bash ä¸­è¿è¡Œ npm install å‘½ä»¤</li>
                <li>åç»­çš„ç¯å¢ƒå˜é‡è®¾ç½®å’Œä½¿ç”¨éƒ½åœ¨ PowerShell/CMD ä¸­</li>
              </ul>
            </t-alert>
          </div>
        </t-card>

        <!-- éªŒè¯å®‰è£… -->
        <t-card class="verify-card">
          <h4 class="verify-title">éªŒè¯ Git Bash å®‰è£…</h4>
          <p>æ‰“å¼€ Git Bashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š</p>
          <div class="code-block">
            <pre><code>git --version</code></pre>
          </div>
          <p class="verify-note">å¦‚æœæ˜¾ç¤º Git ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼</p>
        </t-card>
      </div>

      <!-- ç¬¬ä¸‰æ­¥ï¼šå®‰è£… Claude Code -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">3</span>
          å®‰è£… Claude Code
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="download" />
              å®‰è£… Claude Code
            </h4>
            <p>æ‰“å¼€ Git Bashï¼ˆé‡è¦ï¼šä¸è¦ä½¿ç”¨ PowerShellï¼‰ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
            <div class="code-block">
              <pre><code># åœ¨ Git Bash ä¸­å…¨å±€å®‰è£… Claude Code
npm install -g @anthropic-ai/claude-code</code></pre>
            </div>
            <p>è¿™ä¸ªå‘½ä»¤ä¼šä» npm å®˜æ–¹ä»“åº“ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Claude Codeã€‚</p>

            <t-alert theme="warning" class="note-alert">
              <h6>é‡è¦æé†’</h6>
              <ul>
                <li>å¿…é¡»åœ¨ Git Bash ä¸­è¿è¡Œï¼Œä¸è¦åœ¨ PowerShell ä¸­è¿è¡Œ</li>
                <li>å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œå¯ä»¥å°è¯•åœ¨ Git Bash ä¸­ä½¿ç”¨ sudo å‘½ä»¤</li>
              </ul>
            </t-alert>
          </div>
        </t-card>

        <!-- éªŒè¯å®‰è£… -->
        <t-card class="verify-card">
          <h4 class="verify-title">éªŒè¯ Claude Code å®‰è£…</h4>
          <p>å®‰è£…å®Œæˆåï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
          <div class="code-block">
            <pre><code>claude --version</code></pre>
          </div>
          <p class="verify-note">å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œæ­å–œä½ ï¼Claude Code å·²ç»æˆåŠŸå®‰è£…äº†ã€‚</p>
        </t-card>
      </div>

      <!-- ç¬¬å››æ­¥ï¼šè®¾ç½®ç¯å¢ƒå˜é‡ -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">4</span>
          è®¾ç½®ç¯å¢ƒå˜é‡
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="setting" />
              é…ç½® Claude Code ç¯å¢ƒå˜é‡
            </h4>
            <p>ä¸ºäº†è®© Claude Code è¿æ¥åˆ°ä½ çš„ä¸­è½¬æœåŠ¡ï¼Œéœ€è¦è®¾ç½®ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼š</p>

            <div class="method-section">
              <h5>æ–¹æ³•ä¸€ï¼šPowerShell ä¸´æ—¶è®¾ç½®ï¼ˆæ¨èï¼‰</h5>
              <p>åœ¨ PowerShell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
              <div class="code-block">
                <pre><code>$env:ANTHROPIC_BASE_URL = "{{ currentBaseUrl }}"
$env:ANTHROPIC_AUTH_TOKEN = "ä½ çš„APIå¯†é’¥"</code></pre>
              </div>
              <p class="note-text">ğŸ’¡ è®°å¾—å°† "ä½ çš„APIå¯†é’¥" æ›¿æ¢ä¸ºåœ¨ "API Keys" æ ‡ç­¾é¡µä¸­åˆ›å»ºçš„å®é™…å¯†é’¥ã€‚</p>
            </div>

            <div class="method-section">
              <h5>æ–¹æ³•äºŒï¼šç³»ç»Ÿç¯å¢ƒå˜é‡ï¼ˆæ°¸ä¹…è®¾ç½®ï¼‰</h5>
              <ol class="install-steps">
                <li>å³é”®"æ­¤ç”µè„‘" â†’ "å±æ€§" â†’ "é«˜çº§ç³»ç»Ÿè®¾ç½®"</li>
                <li>ç‚¹å‡»"ç¯å¢ƒå˜é‡"æŒ‰é’®</li>
                <li>åœ¨"ç”¨æˆ·å˜é‡"æˆ–"ç³»ç»Ÿå˜é‡"ä¸­ç‚¹å‡»"æ–°å»º"</li>
                <li>æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªå˜é‡ï¼š</li>
              </ol>
              <div class="env-vars">
                <div class="env-var">
                  <strong>å˜é‡åï¼š</strong> ANTHROPIC_BASE_URL<br />
                  <strong>å˜é‡å€¼ï¼š</strong> <code>{{ currentBaseUrl }}</code>
                </div>
                <div class="env-var">
                  <strong>å˜é‡åï¼š</strong> ANTHROPIC_AUTH_TOKEN<br />
                  <strong>å˜é‡å€¼ï¼š</strong> <code>ä½ çš„APIå¯†é’¥</code>
                </div>
              </div>
            </div>
          </div>
        </t-card>

        <!-- éªŒè¯ç¯å¢ƒå˜é‡è®¾ç½® -->
        <t-card class="verify-card">
          <h4 class="verify-title">éªŒè¯ç¯å¢ƒå˜é‡è®¾ç½®</h4>
          <p>è®¾ç½®å®Œç¯å¢ƒå˜é‡åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯æ˜¯å¦è®¾ç½®æˆåŠŸï¼š</p>

          <div class="verify-section">
            <h5>åœ¨ PowerShell ä¸­éªŒè¯ï¼š</h5>
            <div class="code-block">
              <pre><code>echo $env:ANTHROPIC_BASE_URL
echo $env:ANTHROPIC_AUTH_TOKEN</code></pre>
            </div>
          </div>

          <div class="verify-section">
            <h5>åœ¨ CMD ä¸­éªŒè¯ï¼š</h5>
            <div class="code-block">
              <pre><code>echo %ANTHROPIC_BASE_URL%
echo %ANTHROPIC_AUTH_TOKEN%</code></pre>
            </div>
          </div>

          <div class="expected-output">
            <p><strong>é¢„æœŸè¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
            <div class="output-example">
              <div>{{ currentBaseUrl }}</div>
              <div>cr_xxxxxxxxxxxxxxxxxx</div>
            </div>
            <p class="verify-note">ğŸ’¡ å¦‚æœè¾“å‡ºä¸ºç©ºæˆ–æ˜¾ç¤ºå˜é‡åæœ¬èº«ï¼Œè¯´æ˜ç¯å¢ƒå˜é‡è®¾ç½®å¤±è´¥ï¼Œè¯·é‡æ–°è®¾ç½®ã€‚</p>
          </div>
        </t-card>
      </div>

      <!-- ç¬¬äº”æ­¥ï¼šå¼€å§‹ä½¿ç”¨ -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">5</span>
          å¼€å§‹ä½¿ç”¨ Claude Code
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <p>ç°åœ¨ä½ å¯ä»¥å¼€å§‹ä½¿ç”¨ Claude Code äº†ï¼</p>

            <div class="usage-section">
              <h5>å¯åŠ¨ Claude Code</h5>
              <div class="code-block">
                <pre><code>claude</code></pre>
              </div>
            </div>

            <div class="usage-section">
              <h5>åœ¨ç‰¹å®šé¡¹ç›®ä¸­ä½¿ç”¨</h5>
              <div class="code-block">
                <pre><code># è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•
cd C:\path\to\your\project

# å¯åŠ¨ Claude Code
claude</code></pre>
              </div>
            </div>
          </div>
        </t-card>
      </div>

      <!-- Windows æ•…éšœæ’é™¤ -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <t-icon name="tools" />
          Windows å¸¸è§é—®é¢˜è§£å†³
        </h3>

        <div class="troubleshooting">
          <t-collapse>
            <t-collapse-panel header="å®‰è£…æ—¶æç¤º 'permission denied' é”™è¯¯">
              <p>è¿™é€šå¸¸æ˜¯æƒé™é—®é¢˜ï¼Œå°è¯•ä»¥ä¸‹è§£å†³æ–¹æ³•ï¼š</p>
              <ul>
                <li>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell</li>
                <li>æˆ–è€…é…ç½® npm ä½¿ç”¨ç”¨æˆ·ç›®å½•ï¼š<code>npm config set prefix %APPDATA%\npm</code></li>
              </ul>
            </t-collapse-panel>

            <t-collapse-panel header="PowerShell æ‰§è¡Œç­–ç•¥é”™è¯¯">
              <p>å¦‚æœé‡åˆ°æ‰§è¡Œç­–ç•¥é™åˆ¶ï¼Œè¿è¡Œï¼š</p>
              <div class="code-block">
                <pre><code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser</code></pre>
              </div>
            </t-collapse-panel>

            <t-collapse-panel header="ç¯å¢ƒå˜é‡è®¾ç½®åä¸ç”Ÿæ•ˆ">
              <p>è®¾ç½®æ°¸ä¹…ç¯å¢ƒå˜é‡åéœ€è¦ï¼š</p>
              <ul>
                <li>é‡æ–°å¯åŠ¨ PowerShell æˆ– CMD</li>
                <li>æˆ–è€…æ³¨é”€å¹¶é‡æ–°ç™»å½• Windows</li>
                <li>éªŒè¯è®¾ç½®ï¼š<code>echo $env:ANTHROPIC_BASE_URL</code></li>
              </ul>
            </t-collapse-panel>
          </t-collapse>
        </div>
      </div>
    </div>

    <!-- macOS æ•™ç¨‹ -->
    <div v-else-if="activeTutorialSystem === 'macos'" class="tutorial-content">
      <!-- macOS å®‰è£…æ­¥éª¤åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯å‘½ä»¤ç•¥æœ‰ä¸åŒ -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">1</span>
          å®‰è£… Node.js ç¯å¢ƒ
        </h3>
        <p class="step-description">Claude Code éœ€è¦ Node.js ç¯å¢ƒæ‰èƒ½è¿è¡Œã€‚</p>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="logo-apple" />
              macOS å®‰è£…æ–¹æ³•
            </h4>

            <div class="method-section">
              <h5>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Homebrewï¼ˆæ¨èï¼‰</h5>
              <p>å¦‚æœä½ å·²ç»å®‰è£…äº† Homebrewï¼Œä½¿ç”¨å®ƒå®‰è£… Node.js ä¼šæ›´æ–¹ä¾¿ï¼š</p>
              <div class="code-block">
                <pre><code># æ›´æ–° Homebrew
brew update

# å®‰è£… Node.js
brew install node</code></pre>
              </div>
            </div>

            <div class="method-section">
              <h5>æ–¹æ³•äºŒï¼šå®˜ç½‘ä¸‹è½½</h5>
              <ol class="install-steps">
                <li>è®¿é—® <code>https://nodejs.org/</code></li>
                <li>ä¸‹è½½é€‚åˆ macOS çš„ LTS ç‰ˆæœ¬</li>
                <li>æ‰“å¼€ä¸‹è½½çš„ <code>.pkg</code> æ–‡ä»¶</li>
                <li>æŒ‰ç…§å®‰è£…ç¨‹åºæŒ‡å¼•å®Œæˆå®‰è£…</li>
              </ol>
            </div>

            <t-alert theme="info" class="note-alert">
              <h6>macOS æ³¨æ„äº‹é¡¹</h6>
              <ul>
                <li>å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ <code>sudo</code></li>
                <li>é¦–æ¬¡è¿è¡Œå¯èƒ½éœ€è¦åœ¨ç³»ç»Ÿåå¥½è®¾ç½®ä¸­å…è®¸</li>
                <li>å»ºè®®ä½¿ç”¨ Terminal æˆ– iTerm2</li>
              </ul>
            </t-alert>
          </div>
        </t-card>
      </div>

      <!-- macOS å…¶ä»–æ­¥éª¤ç±»ä¼¼ï¼Œç¯å¢ƒå˜é‡è®¾ç½®ä½¿ç”¨ export å‘½ä»¤ -->
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">2</span>
          å®‰è£… Claude Code
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="download" />
              å®‰è£… Claude Code
            </h4>
            <p>æ‰“å¼€ Terminalï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
            <div class="code-block">
              <pre><code># å…¨å±€å®‰è£… Claude Code
npm install -g @anthropic-ai/claude-code</code></pre>
            </div>
            <p>å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ sudoï¼š</p>
            <div class="code-block">
              <pre><code>sudo npm install -g @anthropic-ai/claude-code</code></pre>
            </div>
          </div>
        </t-card>
      </div>

      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">3</span>
          è®¾ç½®ç¯å¢ƒå˜é‡
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="setting" />
              é…ç½® Claude Code ç¯å¢ƒå˜é‡
            </h4>

            <div class="method-section">
              <h5>æ–¹æ³•ä¸€ï¼šä¸´æ—¶è®¾ç½®ï¼ˆå½“å‰ä¼šè¯ï¼‰</h5>
              <p>åœ¨ Terminal ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
              <div class="code-block">
                <pre><code>export ANTHROPIC_BASE_URL="{{ currentBaseUrl }}"
export ANTHROPIC_AUTH_TOKEN="ä½ çš„APIå¯†é’¥"</code></pre>
              </div>
            </div>

            <div class="method-section">
              <h5>æ–¹æ³•äºŒï¼šæ°¸ä¹…è®¾ç½®</h5>
              <p>ç¼–è¾‘ä½ çš„ shell é…ç½®æ–‡ä»¶ï¼ˆæ ¹æ®ä½ ä½¿ç”¨çš„ shellï¼‰ï¼š</p>
              <div class="code-block">
                <pre><code># å¯¹äº zsh (é»˜è®¤)
echo 'export ANTHROPIC_BASE_URL="{{ currentBaseUrl }}"' >> ~/.zshrc
echo 'export ANTHROPIC_AUTH_TOKEN="ä½ çš„APIå¯†é’¥"' >> ~/.zshrc
source ~/.zshrc

# å¯¹äº bash
echo 'export ANTHROPIC_BASE_URL="{{ currentBaseUrl }}"' >> ~/.bash_profile  
echo 'export ANTHROPIC_AUTH_TOKEN="ä½ çš„APIå¯†é’¥"' >> ~/.bash_profile
source ~/.bash_profile</code></pre>
              </div>
            </div>

            <div class="method-section">
              <h5>æ–¹æ³•ä¸‰ï¼šæ°¸ä¹…è®¾ç½®</h5>
              <p>åˆ›å»ºå¹¶é…ç½® Settings æ–‡ä»¶ï¼š åœ¨ ~/.claude/settings.json æ–‡ä»¶å¹¶é…ç½®æ‚¨çš„ API å¯†é’¥</p>
              <div class="code-block">
                <pre><code>{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "your-api-key-here",
    "ANTHROPIC_BASE_URL": "{{ currentBaseUrl }}",
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC":1

  },
  "permissions": {
    "allow": [],
    "deny": []
  },
  "apiKeyHelper": "echo 'your-api-key-here'"
}</code></pre>
              </div>
            </div>
          </div>
        </t-card>
      </div>
    </div>

    <!-- Linux æ•™ç¨‹ -->
    <div v-else-if="activeTutorialSystem === 'linux'" class="tutorial-content">
      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">1</span>
          å®‰è£… Node.js ç¯å¢ƒ
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <h4 class="method-title">
              <t-icon name="logo-codepen" />
              Linux å®‰è£…æ–¹æ³•
            </h4>

            <div class="method-section">
              <h5>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å®˜æ–¹ä»“åº“ï¼ˆæ¨èï¼‰</h5>
              <div class="code-block">
                <pre><code># æ·»åŠ  NodeSource ä»“åº“
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -

# å®‰è£… Node.js
sudo apt-get install -y nodejs</code></pre>
              </div>
            </div>

            <div class="method-section">
              <h5>æ–¹æ³•äºŒï¼šä½¿ç”¨ç³»ç»ŸåŒ…ç®¡ç†å™¨</h5>
              <div class="code-block">
                <pre><code># Ubuntu/Debian
sudo apt update
sudo apt install nodejs npm

# CentOS/RHEL/Fedora
sudo dnf install nodejs npm</code></pre>
              </div>
            </div>
          </div>
        </t-card>
      </div>

      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">2</span>
          å®‰è£… Claude Code
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <p>æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
            <div class="code-block">
              <pre><code># å…¨å±€å®‰è£… Claude Code
npm install -g @anthropic-ai/claude-code

# å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œä½¿ç”¨ sudo
sudo npm install -g @anthropic-ai/claude-code</code></pre>
            </div>
          </div>
        </t-card>
      </div>

      <div class="tutorial-step">
        <h3 class="step-title">
          <span class="step-number">3</span>
          è®¾ç½®ç¯å¢ƒå˜é‡
        </h3>

        <t-card class="step-card">
          <div class="step-content">
            <div class="method-section">
              <h5>ä¸´æ—¶è®¾ç½®ï¼ˆå½“å‰ä¼šè¯ï¼‰</h5>
              <div class="code-block">
                <pre><code>export ANTHROPIC_BASE_URL="{{ currentBaseUrl }}"
export ANTHROPIC_AUTH_TOKEN="ä½ çš„APIå¯†é’¥"</code></pre>
              </div>
            </div>

            <div class="method-section">
              <h5>æ°¸ä¹…è®¾ç½®</h5>
              <div class="code-block">
                <pre><code># å¯¹äº bash (é»˜è®¤)
echo 'export ANTHROPIC_BASE_URL="{{ currentBaseUrl }}"' >> ~/.bashrc
echo 'export ANTHROPIC_AUTH_TOKEN="ä½ çš„APIå¯†é’¥"' >> ~/.bashrc
source ~/.bashrc

# å¯¹äº zsh
echo 'export ANTHROPIC_BASE_URL="{{ currentBaseUrl }}"' >> ~/.zshrc
echo 'export ANTHROPIC_AUTH_TOKEN="ä½ çš„APIå¯†é’¥"' >> ~/.zshrc
source ~/.zshrc</code></pre>
              </div>
            </div>
          </div>
        </t-card>
      </div>
    </div>

    <!-- ç»“å°¾ -->
    <div class="completion-card">
      <t-card>
        <div class="completion-content">
          <h3>ğŸ‰ æ­å–œä½ ï¼</h3>
          <p class="completion-text">ä½ å·²ç»æˆåŠŸå®‰è£…å¹¶é…ç½®äº† Claude Codeï¼Œç°åœ¨å¯ä»¥å¼€å§‹äº«å— AI ç¼–ç¨‹åŠ©æ‰‹å¸¦æ¥çš„ä¾¿åˆ©äº†ã€‚</p>
        </div>
      </t-card>
    </div>
  </div>
</template>
<script setup lang="ts">
import { computed, ref } from 'vue';

// å½“å‰ç³»ç»Ÿé€‰æ‹©
const activeTutorialSystem = ref('macos');

// æ”¯æŒçš„ç³»ç»Ÿåˆ—è¡¨
const supportedSystems = [
  { key: 'windows', name: 'Windows', icon: 'logo-windows' },
  { key: 'macos', name: 'macOS', icon: 'logo-apple' },
  { key: 'linux', name: 'Linux / WSL2', icon: 'logo-codepen' },
];

// è·å–åŸºç¡€URLå‰ç¼€
const getBaseUrlPrefix = () => {
  let origin = '';

  if (window.location.origin) {
    origin = window.location.origin;
  } else {
    const protocol = window.location.protocol;
    const hostname = window.location.hostname;
    const port = window.location.port;

    origin = `${protocol}//${hostname}`;

    if (port && ((protocol === 'http:' && port !== '80') || (protocol === 'https:' && port !== '443'))) {
      origin += `:${port}`;
    }
  }

  if (!origin) {
    const currentUrl = window.location.href;
    const pathStart = currentUrl.indexOf('/', 8);
    if (pathStart !== -1) {
      origin = currentUrl.substring(0, pathStart);
    } else {
      console.warn('æ— æ³•è·å–å®Œæ•´çš„ originï¼Œå°†ä½¿ç”¨ç›¸å¯¹è·¯å¾„');
      return '';
    }
  }

  return origin;
};

// å½“å‰åŸºç¡€URL - Claude Code
const currentBaseUrl = computed(() => {
  return `${getBaseUrlPrefix()}/claude-code`;
});
</script>
<style lang="less" scoped>
.help-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px;

  .help-header {
    text-align: center;
    margin-bottom: 32px;

    .help-title {
      font-size: 32px;
      font-weight: bold;
      color: var(--td-text-color-primary);
      margin-bottom: 12px;
    }

    .help-subtitle {
      font-size: 16px;
      color: var(--td-text-color-secondary);
    }
  }

  .system-tabs {
    margin-top: -20px;
    margin-bottom: 20px;

    .tabs-wrapper {
      display: flex;
      justify-content: center;
      gap: 12px;

      .system-tab-btn {
        min-width: 120px;
      }
    }
  }

  .tutorial-content {
    animation: fadeIn 0.3s ease-in-out;

    .tutorial-step {
      margin-bottom: 40px;

      .step-title {
        display: flex;
        align-items: center;
        font-size: 24px;
        font-weight: bold;
        color: var(--td-text-color-primary);
        margin-bottom: 16px;

        .step-number {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 32px;
          height: 32px;
          background: var(--td-brand-color);
          color: white;
          border-radius: 50%;
          font-size: 16px;
          margin-right: 12px;
        }
      }

      .step-description {
        font-size: 16px;
        color: var(--td-text-color-secondary);
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .step-card,
      .verify-card {
        margin-bottom: 20px;

        .step-content {
          .method-title {
            display: flex;
            align-items: center;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 16px;
            color: var(--td-text-color-primary);

            .t-icon {
              margin-right: 8px;
            }
          }

          .method-section {
            margin-bottom: 24px;

            h5 {
              font-size: 16px;
              font-weight: bold;
              margin-bottom: 12px;
              color: var(--td-text-color-primary);
            }

            .install-steps {
              padding-left: 20px;
              line-height: 1.8;

              li {
                margin-bottom: 4px;

                code {
                  background: var(--td-bg-color-component);
                  padding: 2px 6px;
                  border-radius: 4px;
                  font-family: 'Monaco', 'Menlo', monospace;
                  font-size: 14px;
                }
              }
            }
          }

          .note-text {
            font-size: 14px;
            color: var(--td-warning-color);
            margin-top: 8px;
          }
        }

        .verify-title {
          font-size: 18px;
          font-weight: bold;
          margin-bottom: 12px;
          color: var(--td-success-color);
        }

        .verify-note {
          font-size: 14px;
          color: var(--td-success-color);
          margin-top: 8px;
        }
      }
    }
  }

  .code-block {
    background: var(--td-bg-color-container);
    border: 1px solid var(--td-component-stroke);
    border-radius: 6px;
    margin: 12px 0;

    pre {
      margin: 0;
      padding: 16px;
      font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
      font-size: 14px;
      line-height: 1.5;
      color: var(--td-text-color-primary);
      overflow-x: auto;
    }
  }

  .env-vars {
    margin-top: 12px;

    .env-var {
      background: var(--td-bg-color-container);
      padding: 12px;
      border-radius: 4px;
      margin-bottom: 8px;
      font-size: 14px;

      code {
        background: var(--td-bg-color-component);
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'Monaco', 'Menlo', monospace;
      }
    }
  }

  .expected-output {
    margin-top: 20px;

    .output-example {
      background: var(--td-bg-color-container);
      padding: 12px;
      border-radius: 4px;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 14px;
      margin: 8px 0;
    }
  }

  .verify-section {
    margin-bottom: 20px;

    h5 {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 8px;
    }
  }

  .usage-section {
    margin-bottom: 20px;

    h5 {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 8px;
    }
  }

  .troubleshooting {
    :deep(.t-collapse) {
      .t-collapse-panel {
        margin-bottom: 8px;
      }

      .t-collapse-panel__content {
        padding: 16px;

        ul {
          padding-left: 20px;

          li {
            margin-bottom: 4px;

            code {
              background: var(--td-bg-color-component);
              padding: 2px 6px;
              border-radius: 4px;
              font-family: 'Monaco', 'Menlo', monospace;
              font-size: 14px;
            }
          }
        }
      }
    }
  }

  .completion-card {
    margin-top: 40px;

    .completion-content {
      text-align: center;
      padding: 20px;

      h3 {
        font-size: 24px;
        margin-bottom: 16px;
        color: var(--td-text-color-primary);
      }

      .completion-text {
        font-size: 16px;
        color: var(--td-text-color-secondary);
        margin-bottom: 12px;
        line-height: 1.6;
      }

      .completion-note {
        font-size: 14px;
        color: var(--td-text-color-placeholder);
        line-height: 1.5;
      }
    }
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

code {
  font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
}

.note-alert {
  margin-top: 16px;

  h6 {
    font-weight: bold;
    margin-bottom: 8px;
  }

  ul {
    margin: 0;
    padding-left: 20px;

    li {
      margin-bottom: 4px;
    }
  }
}
</style>
